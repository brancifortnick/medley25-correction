{"ast":null,"code":"const GET_USER=\"user/GET_USER\";const ADD_MUSICIAN=\"user/ADD_MUSICIAN\";const getUser=user=>({type:GET_USER,payload:user});const addMusician=data=>({type:ADD_MUSICIAN,payload:data});export const getOneUser=userId=>async dispatch=>{const res=await fetch(`/api/users/${userId}`);if(res.ok){const user=await res.json();dispatch(getUser(user));return user;}};export const addMusicianProfile=userId=>async dispatch=>{const res=await fetch(`/api/users/${userId}/add-musician`,{method:'POST',headers:{'Content-Type':'application/json'}});if(res.ok){const data=await res.json();dispatch(addMusician(data));return data;}else{const errors=await res.json();return errors;}};const initialState={};export default function usersReducer(){let state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;let action=arguments.length>1?arguments[1]:undefined;switch(action.type){case GET_USER:return{...action.payload};case ADD_MUSICIAN:return{...state,...action.payload};default:return state;}};","map":{"version":3,"names":["GET_USER","ADD_MUSICIAN","getUser","user","type","payload","addMusician","data","getOneUser","userId","dispatch","res","fetch","ok","json","addMusicianProfile","method","headers","errors","initialState","usersReducer","state","arguments","length","undefined","action"],"sources":["/home/nicholas/med/medley-sesh/react-app/src/store/user.js"],"sourcesContent":["const GET_USER = \"user/GET_USER\";\nconst ADD_MUSICIAN = \"user/ADD_MUSICIAN\";\n\n\nconst getUser = (user) => ({\n    type: GET_USER,\n    payload: user,\n})\n\nconst addMusician = (data) => ({\n    type: ADD_MUSICIAN,\n    payload: data,\n})\n\n\n\nexport const getOneUser = (userId) => async (dispatch) => {\n  const res = await fetch(`/api/users/${userId}`);\n  if (res.ok) {\n    const user = await res.json();\n    dispatch(getUser(user));\n    return user;\n  }\n};\n\nexport const addMusicianProfile = (userId) => async (dispatch) => {\n  const res = await fetch(`/api/users/${userId}/add-musician`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n  });\n  \n  if (res.ok) {\n    const data = await res.json();\n    dispatch(addMusician(data));\n    return data;\n  } else {\n    const errors = await res.json();\n    return errors;\n  }\n};\n\nconst initialState = {};\n\nexport default function usersReducer(state = initialState, action){\n    switch (action.type){\n        case GET_USER:\n            return {\n                ...action.payload\n            }\n        case ADD_MUSICIAN:\n            return {\n                ...state,\n                ...action.payload\n            }\n        default:\n            return state;\n    }\n};\n"],"mappings":"AAAA,KAAM,CAAAA,QAAQ,CAAG,eAAe,CAChC,KAAM,CAAAC,YAAY,CAAG,mBAAmB,CAGxC,KAAM,CAAAC,OAAO,CAAIC,IAAI,GAAM,CACvBC,IAAI,CAAEJ,QAAQ,CACdK,OAAO,CAAEF,IACb,CAAC,CAAC,CAEF,KAAM,CAAAG,WAAW,CAAIC,IAAI,GAAM,CAC3BH,IAAI,CAAEH,YAAY,CAClBI,OAAO,CAAEE,IACb,CAAC,CAAC,CAIF,MAAO,MAAM,CAAAC,UAAU,CAAIC,MAAM,EAAK,KAAO,CAAAC,QAAQ,EAAK,CACxD,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAC,KAAK,CAAC,cAAcH,MAAM,EAAE,CAAC,CAC/C,GAAIE,GAAG,CAACE,EAAE,CAAE,CACV,KAAM,CAAAV,IAAI,CAAG,KAAM,CAAAQ,GAAG,CAACG,IAAI,CAAC,CAAC,CAC7BJ,QAAQ,CAACR,OAAO,CAACC,IAAI,CAAC,CAAC,CACvB,MAAO,CAAAA,IAAI,CACb,CACF,CAAC,CAED,MAAO,MAAM,CAAAY,kBAAkB,CAAIN,MAAM,EAAK,KAAO,CAAAC,QAAQ,EAAK,CAChE,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAC,KAAK,CAAC,cAAcH,MAAM,eAAe,CAAE,CAC3DO,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CACF,CAAC,CAAC,CAEF,GAAIN,GAAG,CAACE,EAAE,CAAE,CACV,KAAM,CAAAN,IAAI,CAAG,KAAM,CAAAI,GAAG,CAACG,IAAI,CAAC,CAAC,CAC7BJ,QAAQ,CAACJ,WAAW,CAACC,IAAI,CAAC,CAAC,CAC3B,MAAO,CAAAA,IAAI,CACb,CAAC,IAAM,CACL,KAAM,CAAAW,MAAM,CAAG,KAAM,CAAAP,GAAG,CAACG,IAAI,CAAC,CAAC,CAC/B,MAAO,CAAAI,MAAM,CACf,CACF,CAAC,CAED,KAAM,CAAAC,YAAY,CAAG,CAAC,CAAC,CAEvB,cAAe,SAAS,CAAAC,YAAYA,CAAA,CAA8B,IAA7B,CAAAC,KAAK,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAGH,YAAY,IAAE,CAAAM,MAAM,CAAAH,SAAA,CAAAC,MAAA,GAAAD,SAAA,IAAAE,SAAA,CAC7D,OAAQC,MAAM,CAACrB,IAAI,EACf,IAAK,CAAAJ,QAAQ,CACT,MAAO,CACH,GAAGyB,MAAM,CAACpB,OACd,CAAC,CACL,IAAK,CAAAJ,YAAY,CACb,MAAO,CACH,GAAGoB,KAAK,CACR,GAAGI,MAAM,CAACpB,OACd,CAAC,CACL,QACI,MAAO,CAAAgB,KAAK,CACpB,CACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}