{"ast":null,"code":"import React,{useState}from\"react\";import{useSelector,useDispatch}from\"react-redux\";import{useHistory}from\"react-router-dom\";import{getAllMusicians,addingFullMusician}from\"../../store/musician\";const MusicianFormRefactor=()=>{const history=useHistory();const dispatch=useDispatch();const user=useSelector(state=>state.session.user);// const [musicians, setMusicians] = useState([]);\nconst[musician_name,setMusicianName]=useState(\"\");const[profile_img,setProfileImg]=useState('');const[biography,setBiography]=useState(\"\");const userId=user.id;const onSubmit=async e=>{e.preventDefault();// Validate required fields\nif(!profile_img||!biography||!musician_name){alert(\"Please fill in all fields and select an image\");return;}try{const result=await dispatch(addingFullMusician(profile_img,biography,userId,musician_name));if(result&&result.error){console.error(\"Error creating musician:\",result.error);alert(\"Error creating musician: \"+result.error);return;}// Refresh the musicians list\ndispatch(getAllMusicians());// Navigate to user profile\nhistory.push(`/users/${user.id}`);}catch(error){console.error(\"Unexpected error:\",error);alert(\"An unexpected error occurred\");}};const updateProfileImg=e=>{const file=e.target.files[0];if(file){// Validate file type\nconst allowedTypes=['image/jpeg','image/jpg','image/png'];if(!allowedTypes.includes(file.type)){alert('Please select a valid image file (JPEG, JPG, or PNG)');e.target.value='';return;}// Validate file size (5MB limit)\nconst maxSize=5*1024*1024;// 5MB in bytes\nif(file.size>maxSize){alert('File size must be less than 5MB');e.target.value='';return;}setProfileImg(file);}};return/*#__PURE__*/React.createElement(\"div\",{className:\"outer_card\"},/*#__PURE__*/React.createElement(\"h1\",{id:\"add-musician-text\"},\"Add A Musician\"),/*#__PURE__*/React.createElement(\"form\",{className:\"musician-form\",onSubmit:onSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"input_container\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"musician_name\"},\"Musician Name\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"musician_name\",placeholder:\"Musician Name\",onChange:e=>setMusicianName(e.target.value),value:musician_name})),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"add-profile-pic\"},\"Add Profile Picture\"),/*#__PURE__*/React.createElement(\"input\",{type:\"file\",accept:\"image/*\",name:\"profile_img\",onChange:updateProfileImg}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"biography\",style:{color:\"white\"}},\"Biography\"),/*#__PURE__*/React.createElement(\"textarea\",{name:\"biography\",type:\"text\",placeholder:\"biography...\",onChange:e=>setBiography(e.target.value),value:biography}),/*#__PURE__*/React.createElement(\"button\",{className:\"submit\",type:\"submit\",id:\"create_musician\"},\"Submit\")));};export default MusicianFormRefactor;// Sample code from PayChecker.js for context\n// PayChecker.js\nfunction calculateBasePay(hoursWorked){let hourlyRate=arguments.length>1&&arguments[1]!==undefined?arguments[1]:15;return hoursWorked*hourlyRate;}function calculateOvertimePay(hoursWorked){let hourlyRate=arguments.length>1&&arguments[1]!==undefined?arguments[1]:15;const overtimeHours=Math.max(0,hoursWorked-40);return overtimeHours*hourlyRate*1.5;}function calculateTotalPay(_ref){let{hoursWorked,serviceCharge=0,gratuity=0,shiftPremium=0,pto=0,holidayPay=0,predictPay=0}=_ref;const basePay=calculateBasePay(hoursWorked);const overtimePay=calculateOvertimePay(hoursWorked);return basePay+overtimePay+serviceCharge+gratuity+shiftPremium+pto+holidayPay+predictPay;}const week1={hoursWorked:44.75,serviceCharge:638.81,gratuity:226.55,shiftPremium:0,pto:0,holidayPay:0,predictPay:0};const week2={hoursWorked:28.18,serviceCharge:530.71,gratuity:150.00,shiftPremium:0,pto:0,holidayPay:0,predictPay:0};","map":{"version":3,"names":["React","useState","useSelector","useDispatch","useHistory","getAllMusicians","addingFullMusician","MusicianFormRefactor","history","dispatch","user","state","session","musician_name","setMusicianName","profile_img","setProfileImg","biography","setBiography","userId","id","onSubmit","e","preventDefault","alert","result","error","console","push","updateProfileImg","file","target","files","allowedTypes","includes","type","value","maxSize","size","createElement","className","htmlFor","name","placeholder","onChange","accept","style","color","calculateBasePay","hoursWorked","hourlyRate","arguments","length","undefined","calculateOvertimePay","overtimeHours","Math","max","calculateTotalPay","_ref","serviceCharge","gratuity","shiftPremium","pto","holidayPay","predictPay","basePay","overtimePay","week1","week2"],"sources":["/home/nicholas/med/medley-sesh/react-app/src/components/AA-NotUsingFolder/MusicianFormRefactor.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport { getAllMusicians, addingFullMusician } from \"../../store/musician\";\n\nconst MusicianFormRefactor = () => {\n\n    const history = useHistory();\n    const dispatch = useDispatch();\n\n    const user = useSelector((state) => state.session.user);\n\n    // const [musicians, setMusicians] = useState([]);\n    const [musician_name, setMusicianName] = useState(\"\");\n    const [profile_img, setProfileImg] = useState('');\n    const [biography, setBiography] = useState(\"\");\n\n\n    const userId = user.id\n    const onSubmit = async (e) => {\n        e.preventDefault();\n\n        // Validate required fields\n        if (!profile_img || !biography || !musician_name) {\n            alert(\"Please fill in all fields and select an image\");\n            return;\n        }\n\n        try {\n            const result = await dispatch(\n                addingFullMusician(profile_img, biography, userId, musician_name)\n            );\n\n            if (result && result.error) {\n                console.error(\"Error creating musician:\", result.error);\n                alert(\"Error creating musician: \" + result.error);\n                return;\n            }\n\n            // Refresh the musicians list\n            dispatch(getAllMusicians());\n\n            // Navigate to user profile\n            history.push(`/users/${user.id}`);\n        } catch (error) {\n            console.error(\"Unexpected error:\", error);\n            alert(\"An unexpected error occurred\");\n        }\n    };\n\n    const updateProfileImg = (e) => {\n        const file = e.target.files[0];\n        if (file) {\n            // Validate file type\n            const allowedTypes = ['image/jpeg', 'image/jpg', 'image/png'];\n            if (!allowedTypes.includes(file.type)) {\n                alert('Please select a valid image file (JPEG, JPG, or PNG)');\n                e.target.value = '';\n                return;\n            }\n\n            // Validate file size (5MB limit)\n            const maxSize = 5 * 1024 * 1024; // 5MB in bytes\n            if (file.size > maxSize) {\n                alert('File size must be less than 5MB');\n                e.target.value = '';\n                return;\n            }\n\n            setProfileImg(file);\n        }\n    };\n\n    return (\n        <div className=\"outer_card\">\n            <h1 id=\"add-musician-text\">Add A Musician</h1>\n            <form className=\"musician-form\" onSubmit={onSubmit}>\n                <div className=\"input_container\">\n                    <label htmlFor=\"musician_name\" >\n                        Musician Name\n                    </label>\n                    <input\n                        type=\"text\"\n                        name=\"musician_name\"\n                        placeholder=\"Musician Name\"\n                        onChange={(e) => setMusicianName(e.target.value)}\n                        value={musician_name}\n                    />\n                </div>\n                <label htmlFor=\"add-profile-pic\" >\n                    Add Profile Picture\n                </label>\n                <input\n\n                    type=\"file\"\n                    accept=\"image/*\"\n                    name=\"profile_img\"\n                    onChange={updateProfileImg}\n                />\n                <label htmlFor=\"biography\" style={{ color: \"white\" }}>\n                    Biography\n                </label>\n                <textarea\n                    name=\"biography\"\n                    type=\"text\"\n                    placeholder=\"biography...\"\n                    onChange={(e) => setBiography(e.target.value)}\n                    value={biography}\n                />\n                <button className=\"submit\" type=\"submit\" id=\"create_musician\">\n                    Submit\n                </button>\n            </form>\n        </div>\n    );\n};\nexport default MusicianFormRefactor;\n\n// Sample code from PayChecker.js for context\n// PayChecker.js\n\nfunction calculateBasePay(hoursWorked, hourlyRate = 15) {\n    return hoursWorked * hourlyRate;\n}\n\nfunction calculateOvertimePay(hoursWorked, hourlyRate = 15) {\n    const overtimeHours = Math.max(0, hoursWorked - 40);\n    return overtimeHours * hourlyRate * 1.5;\n}\n\nfunction calculateTotalPay({\n    hoursWorked,\n    serviceCharge = 0,\n    gratuity = 0,\n    shiftPremium = 0,\n    pto = 0,\n    holidayPay = 0,\n    predictPay = 0,\n}) {\n    const basePay = calculateBasePay(hoursWorked);\n    const overtimePay = calculateOvertimePay(hoursWorked);\n    return (\n        basePay +\n        overtimePay +\n        serviceCharge +\n        gratuity +\n        shiftPremium +\n        pto +\n        holidayPay +\n        predictPay\n    );\n}\n\nconst week1 = {\n    hoursWorked: 44.75,\n    serviceCharge: 638.81,\n    gratuity: 226.55,\n    shiftPremium: 0,\n    pto: 0,\n    holidayPay: 0,\n    predictPay: 0,\n};\n\nconst week2 = {\n    hoursWorked: 28.18,\n    serviceCharge: 530.71,\n    gratuity: 150.00,\n    shiftPremium: 0,\n    pto: 0,\n    holidayPay: 0,\n    predictPay: 0,\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}