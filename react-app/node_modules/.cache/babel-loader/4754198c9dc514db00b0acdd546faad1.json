{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useDispatch}from\"react-redux\";import{updateBiography,getOneMusician}from\"../../store/musician\";import{Modal}from\"../../context/Modal\";import{useHistory}from'react-router-dom';import'./UpdateBiography.css';const UpdateBiography=_ref=>{let{musicianBiography,musicianId}=_ref;const dispatch=useDispatch();const history=useHistory();const[biography,setBiography]=useState(\"\");const[showModal,setModal]=useState(false);const onSubmit=async e=>{const formData=new FormData();formData.append(\"biography\",biography);dispatch(updateBiography(formData,musicianId));setModal(false);history.push(`/musicians/${musicianId}`);};useEffect(()=>{dispatch(getOneMusician(parseInt(musicianId)));},[dispatch,musicianId]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"button\",{id:\"biography-edit\",onClick:()=>setModal(true)},\"Edit your biography\"),showModal&&/*#__PURE__*/React.createElement(Modal,{onClose:()=>setModal(false)},/*#__PURE__*/React.createElement(\"form\",{onSubmit:onSubmit},/*#__PURE__*/React.createElement(\"label\",{id:\"biography-form\"},\"Musician Biography\",/*#__PURE__*/React.createElement(\"textarea\",{name:\"biography\",placeholder:musicianBiography,onChange:e=>setBiography(e.target.value),value:biography})),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",id:\"update-biography-submit\"},\"Submit new biography\"))));};export default UpdateBiography;","map":{"version":3,"names":["React","useEffect","useState","useDispatch","updateBiography","getOneMusician","Modal","useHistory","UpdateBiography","_ref","musicianBiography","musicianId","dispatch","history","biography","setBiography","showModal","setModal","onSubmit","e","formData","FormData","append","push","parseInt","createElement","Fragment","id","onClick","onClose","name","placeholder","onChange","target","value","type"],"sources":["/home/nicholas/med/medley-sesh/react-app/src/components/UpdateBiography/UpdateBiography.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { updateBiography, getOneMusician } from \"../../store/musician\";\nimport { Modal } from \"../../context/Modal\";\nimport {useHistory} from 'react-router-dom';\nimport './UpdateBiography.css'\n\nconst UpdateBiography = ({ musicianBiography, musicianId }) => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const [biography, setBiography] = useState(\"\");\n  const [showModal, setModal] = useState(false);\n\n  const onSubmit = async (e) => {\n    const formData = new FormData();\n    formData.append(\"biography\", biography);\n    dispatch(updateBiography(formData, musicianId));\n    setModal(false);\n    history.push(`/musicians/${musicianId}`)\n  };\n\n  useEffect(() => {\n    dispatch(getOneMusician(parseInt(musicianId)));\n  }, [dispatch, musicianId]);\n\n  return (\n    <>\n      <button id=\"biography-edit\" onClick={() => setModal(true)}>\n        Edit your biography\n      </button>\n      {showModal && (\n        <Modal onClose={() => setModal(false)}>\n          <form onSubmit={onSubmit}>\n            <label id=\"biography-form\">\n              Musician Biography\n              <textarea\n                name=\"biography\"\n                placeholder={musicianBiography}\n                onChange={(e) => setBiography(e.target.value)}\n                value={biography}\n              />\n            </label>\n            <button type=\"submit\" id=\"update-biography-submit\">\n              Submit new biography\n            </button>\n          </form>\n        </Modal>\n      )}\n    </>\n  );\n};\nexport default UpdateBiography;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,aAAa,CACzC,OAASC,eAAe,CAAEC,cAAc,KAAQ,sBAAsB,CACtE,OAASC,KAAK,KAAQ,qBAAqB,CAC3C,OAAQC,UAAU,KAAO,kBAAkB,CAC3C,MAAO,uBAAuB,CAE9B,KAAM,CAAAC,eAAe,CAAGC,IAAA,EAAuC,IAAtC,CAAEC,iBAAiB,CAAEC,UAAW,CAAC,CAAAF,IAAA,CACxD,KAAM,CAAAG,QAAQ,CAAGT,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAU,OAAO,CAAGN,UAAU,CAAC,CAAC,CAC5B,KAAM,CAACO,SAAS,CAAEC,YAAY,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAC9C,KAAM,CAACc,SAAS,CAAEC,QAAQ,CAAC,CAAGf,QAAQ,CAAC,KAAK,CAAC,CAE7C,KAAM,CAAAgB,QAAQ,CAAG,KAAO,CAAAC,CAAC,EAAK,CAC5B,KAAM,CAAAC,QAAQ,CAAG,GAAI,CAAAC,QAAQ,CAAC,CAAC,CAC/BD,QAAQ,CAACE,MAAM,CAAC,WAAW,CAAER,SAAS,CAAC,CACvCF,QAAQ,CAACR,eAAe,CAACgB,QAAQ,CAAET,UAAU,CAAC,CAAC,CAC/CM,QAAQ,CAAC,KAAK,CAAC,CACfJ,OAAO,CAACU,IAAI,CAAC,cAAcZ,UAAU,EAAE,CAAC,CAC1C,CAAC,CAEDV,SAAS,CAAC,IAAM,CACdW,QAAQ,CAACP,cAAc,CAACmB,QAAQ,CAACb,UAAU,CAAC,CAAC,CAAC,CAChD,CAAC,CAAE,CAACC,QAAQ,CAAED,UAAU,CAAC,CAAC,CAE1B,mBACEX,KAAA,CAAAyB,aAAA,CAAAzB,KAAA,CAAA0B,QAAA,mBACE1B,KAAA,CAAAyB,aAAA,WAAQE,EAAE,CAAC,gBAAgB,CAACC,OAAO,CAAEA,CAAA,GAAMX,QAAQ,CAAC,IAAI,CAAE,EAAC,qBAEnD,CAAC,CACRD,SAAS,eACRhB,KAAA,CAAAyB,aAAA,CAACnB,KAAK,EAACuB,OAAO,CAAEA,CAAA,GAAMZ,QAAQ,CAAC,KAAK,CAAE,eACpCjB,KAAA,CAAAyB,aAAA,SAAMP,QAAQ,CAAEA,QAAS,eACvBlB,KAAA,CAAAyB,aAAA,UAAOE,EAAE,CAAC,gBAAgB,EAAC,oBAEzB,cAAA3B,KAAA,CAAAyB,aAAA,aACEK,IAAI,CAAC,WAAW,CAChBC,WAAW,CAAErB,iBAAkB,CAC/BsB,QAAQ,CAAGb,CAAC,EAAKJ,YAAY,CAACI,CAAC,CAACc,MAAM,CAACC,KAAK,CAAE,CAC9CA,KAAK,CAAEpB,SAAU,CAClB,CACI,CAAC,cACRd,KAAA,CAAAyB,aAAA,WAAQU,IAAI,CAAC,QAAQ,CAACR,EAAE,CAAC,yBAAyB,EAAC,sBAE3C,CACJ,CACD,CAET,CAAC,CAEP,CAAC,CACD,cAAe,CAAAnB,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module"}