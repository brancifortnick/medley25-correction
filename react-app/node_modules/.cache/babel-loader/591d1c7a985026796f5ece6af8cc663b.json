{"ast":null,"code":"var _jsxFileName = \"/home/nicholas/medleys/medleyfinal/medley25-correction/react-app/src/components/AllSongs/AllSongs.js\";\nimport React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport DeleteTrack from \"../DeleteTrack/DeleteTrack\";\nimport \"./AllSongs.css\";\nimport { getMusiciansTracks } from \"../../store/song\";\nimport \"./AllSongs.css\";\nimport SongPrivacyToggle from \"../SongPrivacyToggle/SongPrivacyToggle\";\nconst AllSongs = _ref => {\n  let {\n    musicianId\n  } = _ref;\n  const dispatch = useDispatch();\n  const user = useSelector(state => state.session.user);\n  const songs = useSelector(state => Object.values(state.song)); //array of obj with value of an obj\n  const musician = useSelector(state => state.musician);\n  const isOwner = user && user.id === Number(musician.user_id);\n  useEffect(() => {\n    dispatch(getMusiciansTracks(musicianId));\n  }, [dispatch, musicianId]);\n\n  // Separate songs into public and private\n  const publicSongs = songs.filter(song => !song.is_private);\n  const privateSongs = songs.filter(song => song.is_private);\n  const renderSong = song => /*#__PURE__*/React.createElement(\"div\", {\n    key: song.id,\n    className: \"song-id\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"title-p\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }\n  }, \"Title: \", song.title, \" \"), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"audio-player\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"audio\", {\n    src: song.file_url,\n    controls: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }\n  }), isOwner && /*#__PURE__*/React.createElement(DeleteTrack, {\n    musicianId: musicianId,\n    songId: song.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(SongPrivacyToggle, {\n    key: song.id,\n    song: song,\n    musicianId: musicianId,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 8\n    }\n  }));\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"songs-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }\n  }, isOwner && privateSongs.length > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"songs-columns\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"public-songs-column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"songs-column-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }, \"Public Songs\"), publicSongs.length > 0 ? publicSongs.map(renderSong) : /*#__PURE__*/React.createElement(\"p\", {\n    className: \"no-songs-message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 15\n    }\n  }, \"No public songs yet\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"private-songs-column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"songs-column-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, \"Private Songs\"), privateSongs.map(renderSong))) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"single-column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, publicSongs.length > 0 ? publicSongs.map(renderSong) : /*#__PURE__*/React.createElement(\"p\", {\n    className: \"no-songs-message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }, \"No songs yet\")));\n};\nexport default AllSongs;","map":{"version":3,"names":["React","useEffect","useDispatch","useSelector","DeleteTrack","getMusiciansTracks","SongPrivacyToggle","AllSongs","_ref","musicianId","dispatch","user","state","session","songs","Object","values","song","musician","isOwner","id","Number","user_id","publicSongs","filter","is_private","privateSongs","renderSong","createElement","key","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","title","src","file_url","controls","songId","length","map"],"sources":["/home/nicholas/medleys/medleyfinal/medley25-correction/react-app/src/components/AllSongs/AllSongs.js"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport DeleteTrack from \"../DeleteTrack/DeleteTrack\";\nimport \"./AllSongs.css\";\nimport { getMusiciansTracks } from \"../../store/song\";\nimport \"./AllSongs.css\";\n\nimport SongPrivacyToggle from \"../SongPrivacyToggle/SongPrivacyToggle\";\n\nconst AllSongs = ({ musicianId }) => {\n  const dispatch = useDispatch();\n\n  const user = useSelector((state) => state.session.user);\n  const songs = useSelector((state) => Object.values(state.song)); //array of obj with value of an obj\n  const musician = useSelector(state => state.musician);\n  \n  const isOwner = user && user.id === Number(musician.user_id);\n\n  useEffect(() => {\n    dispatch(getMusiciansTracks(musicianId));\n  }, [dispatch, musicianId]);\n\n  // Separate songs into public and private\n  const publicSongs = songs.filter(song => !song.is_private);\n  const privateSongs = songs.filter(song => song.is_private);\n\n  const renderSong = (song) => (\n    <div key={song.id} className=\"song-id\">\n      <p className=\"title-p\">Title: {song.title} </p>\n      <div id=\"audio-player\">\n        \n        <audio src={song.file_url} controls></audio>\n        {isOwner && (\n          <DeleteTrack musicianId={musicianId} songId={song.id} />\n        )}\n      </div>\n       <SongPrivacyToggle key={song.id} song={song} musicianId={musicianId} />\n    </div>\n  );\n\n  return (\n    <div className=\"songs-container\">\n      {isOwner && privateSongs.length > 0 ? (\n        <div className=\"songs-columns\">\n          <div className=\"public-songs-column\">\n            <h3 className=\"songs-column-title\">Public Songs</h3>\n            {publicSongs.length > 0 ? (\n              publicSongs.map(renderSong)\n            ) : (\n              <p className=\"no-songs-message\">No public songs yet</p>\n            )}\n          </div>\n          <div className=\"private-songs-column\">\n            <h3 className=\"songs-column-title\">Private Songs</h3>\n            {privateSongs.map(renderSong)}\n          </div>\n        </div>\n      ) : (\n        <div className=\"single-column\">\n          {publicSongs.length > 0 ? (\n            publicSongs.map(renderSong)\n          ) : (\n            <p className=\"no-songs-message\">No songs yet</p>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\nexport default AllSongs;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}