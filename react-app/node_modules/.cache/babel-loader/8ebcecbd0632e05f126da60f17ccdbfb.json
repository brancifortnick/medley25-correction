{"ast":null,"code":"const GET_TRACKS = \"song/GET_TRACKS\";\nconst ADD_TRACK = \"song/ADD_TRACK\";\nconst GET_ONE_TRACK = \"song/GET_ONE_TRACK\";\nconst DELETE_TRACK = \"song/DELETE_TRACK\";\nconst getAllSongs = songs => ({\n  type: GET_TRACKS,\n  payload: songs\n});\nconst addOneSong = song => ({\n  type: ADD_TRACK,\n  payload: song\n});\nconst grabOneSong = song => ({\n  type: GET_ONE_TRACK,\n  payload: song\n});\nconst deleteATrack = song => ({\n  type: DELETE_TRACK,\n  payload: song\n});\nexport const getMusiciansTracks = id => async dispatch => {\n  const response = await fetch(`/api/musicians/${id}/songs`);\n  if (response.ok) {\n    const songData = await response.json();\n    dispatch(getAllSongs(songData.songs));\n  } else {\n    console.log(\"+++++++____first thunk in SONG STORE___+++++++\");\n  }\n};\nexport const createNewSong = (title, file_url, song_img, musician_id) => async dispatch => {\n  file_url = file_url.url;\n  const res = await fetch(\"/api/songs/new\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      title,\n      file_url,\n      song_img,\n      musician_id\n    })\n  });\n  if (res.ok) {\n    const newSong = await res.json();\n    console.log(newSong, \"newSong value from createNewSOng thunk in song.store\");\n    dispatch(addOneSong(newSong));\n    return newSong;\n  } else {\n    console.log(\"erroring out in musician thunk---> createNewSong---> STORE ***SONG**\");\n  }\n};\n\n// export const getOneSingleSong = (id) => async (dispatch) => {\n//   const response = await fetch(`/api/musicians/songs/${id}`);\n//   if (response.ok) {\n//     const singleSong = await response.json();\n//     dispatch(grabOneSong(singleSong));\n//     return singleSong;\n//   } else {\n//     console.log(\"error coming from store => getting single song in SONGSTORE\");\n//   }\n// };\n\nexport const deleteTrack = id => async dispatch => {\n  const response = await fetch(`/api/songs/${id}`, {\n    method: \"DELETE\"\n  });\n  if (response.ok) {\n    dispatch(deleteATrack(id));\n  }\n};\nconst initialState = {};\nexport default function reducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case GET_TRACKS:\n      const getState = {};\n      action.payload.forEach(song => {\n        getState[song.id] = song;\n      });\n      return getState;\n    case ADD_TRACK:\n      const newNew = {\n        ...state\n      };\n      newNew[action.payload.id] = action.payload;\n      return newNew;\n    case GET_ONE_TRACK:\n      return {\n        ...action.payload\n      };\n    case DELETE_TRACK:\n      const currentState = {\n        ...state\n      };\n      delete currentState[action.payload]; // maybe this should be action.payload.id-not sure\n      return currentState;\n    default:\n      return state;\n  }\n}\n//   case UPDATE_TRACK: {}          //! update track reducer not added yet","map":{"version":3,"names":["GET_TRACKS","ADD_TRACK","GET_ONE_TRACK","DELETE_TRACK","getAllSongs","songs","type","payload","addOneSong","song","grabOneSong","deleteATrack","getMusiciansTracks","id","dispatch","response","fetch","ok","songData","json","console","log","createNewSong","title","file_url","song_img","musician_id","url","res","method","headers","body","JSON","stringify","newSong","deleteTrack","initialState","reducer","state","arguments","length","undefined","action","getState","forEach","newNew","currentState"],"sources":["/home/nicholas/medleyfinal/medley25-correction/react-app/src/store/song.js"],"sourcesContent":["const GET_TRACKS = \"song/GET_TRACKS\";\nconst ADD_TRACK = \"song/ADD_TRACK\";\nconst GET_ONE_TRACK = \"song/GET_ONE_TRACK\";\nconst DELETE_TRACK = \"song/DELETE_TRACK\";\n\nconst getAllSongs = (songs) => ({\n  type: GET_TRACKS,\n  payload: songs,\n});\n\nconst addOneSong = (song) => ({\n  type: ADD_TRACK,\n  payload: song,\n});\n\nconst grabOneSong = (song) => ({\n  type: GET_ONE_TRACK,\n  payload: song,\n});\n\nconst deleteATrack = (song) => ({\n  type: DELETE_TRACK,\n  payload: song,\n});\n\nexport const getMusiciansTracks = (id) => async (dispatch) => {\n  const response = await fetch(`/api/musicians/${id}/songs`);\n  if (response.ok) {\n    const songData = await response.json();\n    dispatch(getAllSongs(songData.songs));\n  } else {\n    console.log(\"+++++++____first thunk in SONG STORE___+++++++\");\n  }\n};\n\nexport const createNewSong =\n  (title, file_url, song_img, musician_id) => async (dispatch) => {\n    file_url = file_url.url;\n    const res = await fetch(\"/api/songs/new\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ title, file_url, song_img, musician_id }),\n    });\n    if (res.ok) {\n      const newSong = await res.json();\n      console.log(\n        newSong,\n        \"newSong value from createNewSOng thunk in song.store\"\n      );\n      dispatch(addOneSong(newSong));\n      return newSong;\n    } else {\n      console.log(\n        \"erroring out in musician thunk---> createNewSong---> STORE ***SONG**\"\n      );\n    }\n  };\n\n// export const getOneSingleSong = (id) => async (dispatch) => {\n//   const response = await fetch(`/api/musicians/songs/${id}`);\n//   if (response.ok) {\n//     const singleSong = await response.json();\n//     dispatch(grabOneSong(singleSong));\n//     return singleSong;\n//   } else {\n//     console.log(\"error coming from store => getting single song in SONGSTORE\");\n//   }\n// };\n\nexport const deleteTrack = (id) => async (dispatch) => {\n  const response = await fetch(`/api/songs/${id}`, {\n    method: \"DELETE\",\n  });\n  if (response.ok) {\n    dispatch(deleteATrack(id));\n  }\n};\n\nconst initialState = {};\n\nexport default function reducer(state = initialState, action) {\n  switch (action.type) {\n    case GET_TRACKS:\n      const getState = {};\n      action.payload.forEach((song) => {\n        getState[song.id] = song;\n      });\n      return getState;\n    case ADD_TRACK:\n      const newNew = { ...state };\n      newNew[action.payload.id] = action.payload;\n      return newNew;\n    case GET_ONE_TRACK:\n      return { ...action.payload };\n    case DELETE_TRACK:\n      const currentState = { ...state };\n      delete currentState[action.payload]; // maybe this should be action.payload.id-not sure\n      return currentState;\n    default:\n      return state;\n  }\n}\n//   case UPDATE_TRACK: {}          //! update track reducer not added yet\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}