{"ast":null,"code":"const GET_TRACKS = \"song/GET_TRACKS\";\nconst ADD_TRACK = \"song/ADD_TRACK\";\nconst GET_ONE_TRACK = \"song/GET_ONE_TRACK\";\nconst DELETE_TRACK = \"song/DELETE_TRACK\";\nconst UPDATE_TRACK = \"song/UPDATE_TRACK\";\nconst getAllSongs = songs => ({\n  type: GET_TRACKS,\n  payload: songs\n});\nconst addOneSong = song => ({\n  type: ADD_TRACK,\n  payload: song\n});\nconst grabOneSong = song => ({\n  type: GET_ONE_TRACK,\n  payload: song\n});\nconst deleteATrack = song => ({\n  type: DELETE_TRACK,\n  payload: song\n});\nconst updateTrack = song => ({\n  type: UPDATE_TRACK,\n  payload: song\n});\nexport const getMusiciansTracks = id => async dispatch => {\n  const response = await fetch(`/api/musicians/${id}/songs`);\n  if (response.ok) {\n    const songData = await response.json();\n    dispatch(getAllSongs(songData.songs));\n  } else {\n    console.log(\"+++++++____first thunk in SONG STORE___+++++++\");\n  }\n};\nexport const createNewSong = (title, file_url, song_img, musician_id) => async dispatch => {\n  file_url = file_url.url;\n  const res = await fetch(\"/api/songs/new\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      title,\n      file_url,\n      song_img,\n      musician_id\n    })\n  });\n  if (res.ok) {\n    const newSong = await res.json();\n    // console.log(\n    //   newSong,\n    //   \"newSong value from createNewSOng thunk in song.store\"\n    // );\n    dispatch(addOneSong(newSong));\n    return newSong;\n  } else {\n    console.log(\"erroring out in musician thunk---> createNewSong---> STORE ***SONG**\");\n  }\n};\nexport const deleteTrack = id => async dispatch => {\n  const response = await fetch(`/api/songs/${id}`, {\n    method: \"DELETE\"\n  });\n  if (response.ok) {\n    dispatch(deleteATrack(id));\n  }\n};\nexport const toggleSongPrivacy = (songId, newStatus) => async dispatch => {\n  console.log(\"Toggling privacy for song:\", songId, \"to:\", newStatus);\n  const res = await fetch(`/api/songs/${songId}/privacy`, {\n    method: \"PATCH\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      is_private: newStatus\n    })\n  });\n  if (res.ok) {\n    const updatedSong = await res.json();\n    console.log(\"Song updated successfully:\", updatedSong);\n    dispatch(updateTrack(updatedSong));\n    return updatedSong;\n  } else {\n    const error = await res.json();\n    console.error(\"Failed to toggle song privacy:\", error);\n    return null;\n  }\n};\nconst initialState = {};\nexport default function reducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case GET_TRACKS:\n      const getState = {};\n      action.payload.forEach(song => getState[song.id] = song);\n      return getState;\n    case ADD_TRACK:\n      return {\n        ...state,\n        [action.payload.id]: action.payload\n      };\n    case GET_ONE_TRACK:\n      return {\n        ...action.payload\n      };\n    case DELETE_TRACK:\n      const newState = {\n        ...state\n      };\n      delete newState[action.payload];\n      return newState;\n    case UPDATE_TRACK:\n      // ðŸ‘ˆ NEW CASE\n      return {\n        ...state,\n        [action.payload.id]: action.payload\n      };\n    default:\n      return state;\n  }\n}","map":{"version":3,"names":["GET_TRACKS","ADD_TRACK","GET_ONE_TRACK","DELETE_TRACK","UPDATE_TRACK","getAllSongs","songs","type","payload","addOneSong","song","grabOneSong","deleteATrack","updateTrack","getMusiciansTracks","id","dispatch","response","fetch","ok","songData","json","console","log","createNewSong","title","file_url","song_img","musician_id","url","res","method","headers","body","JSON","stringify","newSong","deleteTrack","toggleSongPrivacy","songId","newStatus","is_private","updatedSong","error","initialState","reducer","state","arguments","length","undefined","action","getState","forEach","newState"],"sources":["/home/nicholas/medleys/medleyfinal/medley25-correction/react-app/src/store/song.js"],"sourcesContent":["const GET_TRACKS = \"song/GET_TRACKS\";\nconst ADD_TRACK = \"song/ADD_TRACK\";\nconst GET_ONE_TRACK = \"song/GET_ONE_TRACK\";\nconst DELETE_TRACK = \"song/DELETE_TRACK\";\nconst UPDATE_TRACK = \"song/UPDATE_TRACK\";\n\n\n\nconst getAllSongs = (songs) => ({\n  type: GET_TRACKS,\n  payload: songs,\n});\n\nconst addOneSong = (song) => ({\n  type: ADD_TRACK,\n  payload: song,\n});\n\nconst grabOneSong = (song) => ({\n  type: GET_ONE_TRACK,\n  payload: song,\n});\n\nconst deleteATrack = (song) => ({\n  type: DELETE_TRACK,\n  payload: song,\n});\n\n  \nconst updateTrack = (song) => ({\n  type: UPDATE_TRACK,\n  payload: song,\n}); \n\nexport const getMusiciansTracks = (id) => async (dispatch) => {\n  const response = await fetch(`/api/musicians/${id}/songs`);\n  if (response.ok) {\n    const songData = await response.json();\n    dispatch(getAllSongs(songData.songs));\n  } else {\n    console.log(\"+++++++____first thunk in SONG STORE___+++++++\");\n  }\n};\n\nexport const createNewSong =\n  (title, file_url, song_img, musician_id) => async (dispatch) => {\n    file_url = file_url.url;\n    const res = await fetch(\"/api/songs/new\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ title, file_url, song_img, musician_id }),\n    });\n    if (res.ok) {\n      const newSong = await res.json();\n      // console.log(\n      //   newSong,\n      //   \"newSong value from createNewSOng thunk in song.store\"\n      // );\n      dispatch(addOneSong(newSong));\n      return newSong;\n    } else {\n      console.log(\n        \"erroring out in musician thunk---> createNewSong---> STORE ***SONG**\"\n      );\n    }\n  };\n\n\n\n\n\nexport const deleteTrack = (id) => async (dispatch) => {\n  const response = await fetch(`/api/songs/${id}`, {\n    method: \"DELETE\",\n  });\n  if (response.ok) {\n    dispatch(deleteATrack(id));\n  }\n};\n\nexport const toggleSongPrivacy = (songId, newStatus) => async (dispatch) => {\n  console.log(\"Toggling privacy for song:\", songId, \"to:\", newStatus);\n  \n  const res = await fetch(`/api/songs/${songId}/privacy`, {\n    method: \"PATCH\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({ is_private: newStatus }),\n  });\n\n  if (res.ok) {\n    const updatedSong = await res.json();\n    console.log(\"Song updated successfully:\", updatedSong);\n    dispatch(updateTrack(updatedSong));\n    return updatedSong;\n  } else {\n    const error = await res.json();\n    console.error(\"Failed to toggle song privacy:\", error);\n    return null;\n  }\n};\n\nconst initialState = {};\n\nexport default function reducer(state = initialState, action) {\n  switch (action.type) {\n    case GET_TRACKS:\n      const getState = {};\n      action.payload.forEach((song) => (getState[song.id] = song));\n      return getState;\n    case ADD_TRACK:\n      return { ...state, [action.payload.id]: action.payload };\n    case GET_ONE_TRACK:\n      return { ...action.payload };\n    case DELETE_TRACK:\n      const newState = { ...state };\n      delete newState[action.payload];\n      return newState;\n    case UPDATE_TRACK: // ðŸ‘ˆ NEW CASE\n      return {\n        ...state,\n        [action.payload.id]: action.payload,\n      };\n    default:\n      return state;\n  }\n}\n\n\n\n\n\n\n\n\n\n\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}